// SPDX-FileCopyrightText: (C) 2025 Intel Corporation
// SPDX-License-Identifier: Apache-2.0

package utils

import (
	"encoding/base64"

	corev1 "k8s.io/api/core/v1"
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	"k8s.io/apimachinery/pkg/types"

	infrastructurev1alpha1 "github.com/open-edge-platform/cluster-api-provider-intel/api/v1alpha1"
	clusterv1 "sigs.k8s.io/cluster-api/api/v1beta1"
)

var (
	// rke2CloudConfig is actual data["value"] taken from RKE2 bootstrap secret
	rke2CloudConfig = []byte(`IyMgdGVtcGxhdGU6IGppbmphCiNjbG91ZC1jb25maWcKCndyaXRlX2ZpbGVzOgotICAgcGF0aDogL2V0Yy9yYW5jaGVyL3JrZTIvcmVnaXN0cmllcy55YW1sCiAgICBvd25lcjogcm9vdDpyb290CiAgICBwZXJtaXNzaW9uczogJzA2NDAnCiAgICBjb250ZW50OiB8CiAgICAgIGNvbmZpZ3M6IG51bGwKICAgICAgbWlycm9yczoge30KICAgICAgCi0gICBwYXRoOiAvdmFyL2xpYi9yYW5jaGVyL3JrZTIvc2VydmVyL3Rscy9zZXJ2ZXItY2EuY3J0CiAgICBvd25lcjogcm9vdDpyb290CiAgICBwZXJtaXNzaW9uczogJzA2NDAnCiAgICBjb250ZW50OiB8CiAgICAgIC0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQogICAgICBNSUlDNmpDQ0FkS2dBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUXNGQURBVk1STXdFUVlEVlFRREV3cHJkV0psCiAgICAgIGNtNWxkR1Z6TUI0WERUSTFNREV5TkRFM05UUXdOMW9YRFRNMU1ERXlNakUzTlRrd04xb3dGVEVUTUJFR0ExVUUKICAgICAgQXhNS2EzVmlaWEp1WlhSbGN6Q0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU9xbQogICAgICBUdEd4dEpRc0FEWk1FckhrQjRVMW1XSlE3L1lhTjFza3N3RWZoZXlDUlpFM1lqcG9HT3Q1ZmtSbEZjU200dXhtCiAgICAgIDlaQmpUcFZGQndIUS92eWM2Vk5tdzFOdGpFZmlITEdCUFFXS3hTbWlYcnU1RDF6cGZXUkRRcklqNkx4aHlrVEwKICAgICAgYmFFRnE5RHo0RHNlWUxiL1U0RTc0WDdDbTdwWHo4Um5McVlwRWNWcThOejJPVVFqQW5EVGRHa2ZTc0Z0N2traQogICAgICA3MXlkbnRrb2FjUVFvTS9sMkZmWmQyak1FeXA0RVdBNjEycXUvQkF4Uzc0T09rRE5RbUFBWE5JTUo2SFFHNzBsCiAgICAgIEg1ZS9pSzduRFZzZWFsQysyYkdVeWxEdmNsajdRWm5FZWpKdzc2a1dPT2s3RFRETkNRMjE1R2FESUk1UExkZVAKICAgICAgcVk2czdnNzNxK0RlOTlSYUN2c0NBd0VBQWFORk1FTXdEZ1lEVlIwUEFRSC9CQVFEQWdLa01CSUdBMVVkRXdFQgogICAgICAvd1FJTUFZQkFmOENBUUF3SFFZRFZSME9CQllFRks0dUUxSlI5RW9VRzdYem5JWWNrVVQ2SkVheU1BMEdDU3FHCiAgICAgIFNJYjNEUUVCQ3dVQUE0SUJBUUFMQjYzeEFBNitidWFtc0orUjVOcWJUUEtOTXA4NXlscFgzYXNlTngwR0ZTQTAKICAgICAgZFlndGhjSTc1aXlONW9GY0sxdUlsT0traGJ2Y2FNeFY1MmdXVDk1bE5MVWFnazFUano5aWJ5bCtiU0Q4b2JtVQogICAgICByVjNXV0RjM3JMcXY5U1AwYVZIUllIeXkxVSt1NnFlb1VLY0c5RWVGczB1VTh1N3ltUHZoVEIrQWRpRllKZkRQCiAgICAgIGxLZ1Q0NFJSaTRLZzJ6T1pZUE16M2JMUGlNb05MRUduS2l5L3JkZWhzcy9PU1EzdnVYdWxLSXp4SHJia2ZCRU0KICAgICAgQTMwTzFHcm1iRi95TWlZZDBVbFdEWWJJY1BnRmNQUmZGS2tJb1haRnZXNVgzakwrakxSS2Q1bzRQaXROSWgxYgogICAgICB2YmFjTXZLL2NZUVM5dWFzVDJrNHlmSlllL3Y1N0pINVFJVURUZ1E1CiAgICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KICAgICAgCi0gICBwYXRoOiAvdmFyL2xpYi9yYW5jaGVyL3JrZTIvc2VydmVyL3Rscy9zZXJ2ZXItY2Eua2V5CiAgICBvd25lcjogcm9vdDpyb290CiAgICBwZXJtaXNzaW9uczogJzA2MDAnCiAgICBjb250ZW50OiB8CiAgICAgIC0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS0KICAgICAgTUlJRW93SUJBQUtDQVFFQTZxWk8wYkcwbEN3QU5rd1NzZVFIaFRXWllsRHY5aG8zV3lTekFSK0Y3SUpGa1RkaQogICAgICBPbWdZNjNsK1JHVVZ4S2JpN0diMWtHTk9sVVVIQWREKy9KenBVMmJEVTIyTVIrSWNzWUU5QllyRkthSmV1N2tQCiAgICAgIFhPbDlaRU5Dc2lQb3ZHSEtSTXR0b1FXcjBQUGdPeDVndHY5VGdUdmhmc0tidWxmUHhHY3VwaWtSeFdydzNQWTUKICAgICAgUkNNQ2NOTjBhUjlLd1czdVNTTHZYSjJlMlNocHhCQ2d6K1hZVjlsM2FNd1RLbmdSWURyWGFxNzhFREZMdmc0NgogICAgICBRTTFDWUFCYzBnd25vZEFidlNVZmw3K0lydWNOV3g1cVVMN1pzWlRLVU85eVdQdEJtY1I2TW5EdnFSWTQ2VHNOCiAgICAgIE1NMEpEYlhrWm9NZ2prOHQxNCtwanF6dUR2ZXI0TjczMUZvSyt3SURBUUFCQW9JQkFDNFdUQlRUbW13ZjJFclIKICAgICAgMWpvcVYyL0tmejNZTjhsV2pOalI5SGFjQW1uWmpHQmhTR0hBWUdTZmtEVk94Vi9DaDM5M0dYUXFqUnkwV2hQNQogICAgICBRSnZORmViVG9EbWFvcHJieGxiMjAwMXJYQjQ1VGZJQS93dDRzTEFvcGNqblZLYnJiaGJrL2J0S3FkeDRpZW9TCiAgICAgIHBWeEwrZExBT0NIMWh6Q3FYcHhzeDdUTEREcUJ6bEJFUnB0WU5nMWs5ZG1malpTbjVIWkpud2xlWGFTaEI1dXAKICAgICAgcGNyUWpFTDdZMmR1UTUyWUdoLy9GTXhRcDJOZkVXT3AwM3gvUWtBK3FBdWpLUGZtdGVZdUZZT0dTeVZxMTQ5cAogICAgICA3TzNRQVF3OS9vL29wWWV6WVNLUUdrV1plREJrOXYwemxFVmhPWXhZV1NxdUpER0w5S3NlVE43eEl2UlBCQ2FECiAgICAgIHJDWVgyMEVDZ1lFQTc5NnVEeWU2UURoZ1MveUVYaDIwd01TYTR0WDB5OU1QbW9EN0dlZGN0SHpKMUFBcTFYQ0oKICAgICAgUHoyZVhacVB3eDluT1paMUN3eU1JT3hVS2VicnZLTjc0bnVDV2VsZzdObTNCcTc5eUVsUEN4YjVxWFNRWEVVRgogICAgICBkTEg2UU41cEZLRExuNlVkd1FvM0lNY0xUTWNiNjBYMnBGMzcrSzVybGFGN002QktHT21RakwwQ2dZRUErbTNECiAgICAgIFZZM2Y1b3RJbk1JWW9oZzlEYnVlc2UrUHRKTS8zWHo1TFdjT3BjWTVySlNyTkVNcXBtRWRrdUpQaEVhOG5JV1EKICAgICAgeE12VHNQbDJRYXRydmZ4RVcxM2dsekRDalprK3VVMXVNSmVsbTNKZkZ3bTdhd2g4aTdhYUUvdjRvQ0JmZENiSgogICAgICB2Ty9uT3pmVTlyVU9JYmdJM0dNVmhWWUlXUjFxek1sQm14cHdYaGNDZ1lBanBUakNnY25ZdjBmNElzZGM0UmM2CiAgICAgIFNqMG1GbHR4YXFUMzlkRGEwWm5pTEdVbHZ2eWVpVUdzQnpFZ2dkWjVUWkplYVhCdE91a2IvMkttYzIxMnMraTIKICAgICAgQ0ZxZmwrSFNjS3dWTHk0QmRIdHRqM1Y4YkJrRHpUSDVYSFZ1N0Y0N05ZWHM3SEdXZlRraUF0STRENktqZk5zaAogICAgICBJK0pNMjBhYmpzcXJLbGU0aWdUMEZRS0JnSG5haU82TFAwUTl4OUpHKzVkNzlkRkYxdDA3OVEvbmltN3FqWkNUCiAgICAgIEVlU0dCTEErRXVRMlBuMkF5ZFFiL0pjZm1FME5ETGxGZUxjblcyeHV6ZGsrODhBRmVPLzRVT0ozaTdhOHYzNHoKICAgICAgZStpY2lUcDdpTTkyN0t0SzZjUUptaHZJUk1vT3lhRCtsdVFRc2JadHVQZWRSZXArNkF6ZUpPZS8wYVRkMU9kMAogICAgICB3UEozQW9HQkFOR0RxZURyT3dzUjBrakR3NmlZTXBCb1lVMVdqYWt0WTBzRFo1M2dCRS9HYS8zUElmUU5NR20zCiAgICAgIEtZRkVEYnlESGF4NW9nTXhqNnpPQ24rVCtKOUpxUURnSWs4OEpPZ3lCeUcvZ3cxTUZEVzZPRVNicGlXZGZFVVoKICAgICAgdytmVjdNNE9ZUlkycW1JVmxkbjMvSHJaa01vZWRVVG9BSjZnRXhZUGExS3o1cXgyNldETQogICAgICAtLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICAKLSAgIHBhdGg6IC92YXIvbGliL3JhbmNoZXIvcmtlMi9zZXJ2ZXIvdGxzL2NsaWVudC1jYS5jcnQKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDY0MCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIE1JSUM2akNDQWRLZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKICAgICAgY201bGRHVnpNQjRYRFRJMU1ERXlOREUzTlRRd04xb1hEVE0xTURFeU1qRTNOVGt3TjFvd0ZURVRNQkVHQTFVRQogICAgICBBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBS2s3CiAgICAgIExoVXdwSkkyS01QWjdhaGd1MzFRenhMWFp1T0tuTjhCK1NMOUw3enhBL3pvWkphdFEzQVZmemJmRjFscFVCWFQKICAgICAgalJtYmt6MDBjY203OXRvOWl1QW8yZTFHVnh1YXdBbUp2SjN2MkNudTNYWVY0Z25GUHRuaU1PYjZmdU9QYm0vdwogICAgICBKLzdwKzVGN3p1cUVnVmFWSFNHQUNEZUJKM1piaFJISEdINEt3SFFLMkdPUGpCZTJPWDBNZ21yWkJxK2prT09ICiAgICAgIDFURHEraUxhZzJTNDc1d0IzNDUxd0dnTUk4ZWpTbnBaM0FVOUlOZEFoaENTL01hdS9KaUJJQkYyMmVrRmFZZ0YKICAgICAgYzBhUkhreFN5Uit2eHNvVFN5cFpUMjYvbkVoK0hxYmh1ZURuOUtiNDZ4MllnbjlPc1J3TzhGT1RXL2VrWVVkNgogICAgICBQNGMxUldsZFlrUTZDbXhXVWhNQ0F3RUFBYU5GTUVNd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCiAgICAgIC93UUlNQVlCQWY4Q0FRQXdIUVlEVlIwT0JCWUVGSzdZR3BYL2hkK2p1dXV5YnBITDlBWmUvZnNXTUEwR0NTcUcKICAgICAgU0liM0RRRUJDd1VBQTRJQkFRQkVqMFhoZXFkZHEvSExRL0V0bmNPcUx5UEFhQWhzVE9QWDZkcm9SbXdSNEpFSgogICAgICBFYmI3SUp5bzkxUHh5ZjdFMW1KZkpOWVR4RXQwMmIrRkJmRkxTZncybE5xWS8wT2QvMis4TDNFc1d3WE5LWkRXCiAgICAgIDN2Tk5kUG55ZDFRdWE5alhiM0tIMHZsak1mdy9QbVlqSXFWVXhKQkkvTnpKdGxLUUhzOGdGVlZRcEhpc2RkK3YKICAgICAgVTNqNlhqLzJFNktEN05aeTBZYlpQZVZlTE9CaFNXTGYybnF2bzhkYVgzblFpS0lPNkVSTEoxN29tUUtEY1hkQQogICAgICBLc2FNbnVydkx3K0YreWtPeWp1REZveFpnaTlRcUplZnJqSzRucVNkTmxPMXE5SkwrM2t3cGgwNDdwYitlQlZGCiAgICAgIEJYczhCUXhNMHBZQWh2ZG91SmlLamp6aWtTZXZ4a2pmQTIrSVMzRVUKICAgICAgLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQogICAgICAKLSAgIHBhdGg6IC92YXIvbGliL3JhbmNoZXIvcmtlMi9zZXJ2ZXIvdGxzL2NsaWVudC1jYS5rZXkKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICBNSUlFb3dJQkFBS0NBUUVBcVRzdUZUQ2trallvdzludHFHQzdmVkRQRXRkbTQ0cWMzd0g1SXYwdnZQRUQvT2hrCiAgICAgIGxxMURjQlYvTnQ4WFdXbFFGZE9OR1p1VFBUUnh5YnYyMmoySzRDalo3VVpYRzVyQUNZbThuZS9ZS2U3ZGRoWGkKICAgICAgQ2NVKzJlSXc1dnArNDQ5dWIvQW4vdW43a1h2TzZvU0JWcFVkSVlBSU40RW5kbHVGRWNjWWZnckFkQXJZWTQrTQogICAgICBGN1k1ZlF5Q2F0a0dyNk9RNDRmVk1PcjZJdHFEWkxqdm5BSGZqblhBYUF3ang2TktlbG5jQlQwZzEwQ0dFSkw4CiAgICAgIHhxNzhtSUVnRVhiWjZRVnBpQVZ6UnBFZVRGTEpINi9HeWhOTEtsbFBicitjU0g0ZXB1RzU0T2YwcHZqckhaaUMKICAgICAgZjA2eEhBN3dVNU5iOTZSaFIzby9oelZGYVYxaVJEb0tiRlpTRXdJREFRQUJBb0lCQUJMRDJDbExXb1JIOHg4OAogICAgICBkQWplcVF1TlFWamlmNnN0ZkpXUjMzRk14OVZZbUV1YjdVTno5TzFoeE5odHhtWUlzbk9wSUpVOVZnZE1ZRzJ4CiAgICAgIEpQOHdJYzBYV29yZjZOckx2dzJQczFXRCtlRTBkbVFZcXhiUVExYmZxUEtEeGp3dmRGeC9NY0FuYTlqRzlMdTIKICAgICAgYzYwSkhkRFFKSmthL2lnMm43dkg2dVJYQnQ0WEEzckdnU0RpUUhvd1VCZVRsUVl4TjI1RXhnTGtKTlhqclJoSgogICAgICBhbklvc1BMekRmWkdIQWErL1YvbW9ZVWhEMDdKR1ptVk1kbkNic2JHUTBsWUd1eXhYSndnSjRwbFZkclVHd054CiAgICAgIGR3czJ0MnpVZlBWakp6TElobHp4bFcyTWR3Njh3SGlHVnJORjc3V0hQMFhrNkp2L3htZUJrZGVUQXpPb3p3ZE4KICAgICAgbTljdWV0RUNnWUVBNEgvN0xyZFp3ckpKdGt6ZXR3TTRwaWJMWmFzaDJLdHVZcVZpTWtHTXp3SFV4d0lkdFFndgogICAgICBBUTljZ1ZRQUF2MjN0cmViVkJIVUlrMmNsOWhkZlJpNmtmaExUaUR6MmY5RGdITzRVVUdmN2JtKzJTWmpxUjB2CiAgICAgIDJpYi96RnoySGVKOVowcEVuMk0zVVJtQzlPSGtUSER3UUdJTThQMHdqQ0R1SVNqa3V6UXkrUmtDZ1lFQXdQbnoKICAgICAgSVhtL090cW44YU4zbUZzMWoyanNEYjRBOE92bkNiNjQwcmRpRzdxcjNOb2xLbnRKdWppVUhUcDNNUmJzQ0cxNgogICAgICBLWnM3L2UrTHVJaThOZi95QmJGT3RsWVhrWlc4WmdoSUhRMWZsR2srYTEzUEZyZFlnNEZtTWVOR1ZEVFVtVHYxCiAgICAgIDlrbU1RdVU5SmthcUUyZU1lNnNPTndCK2xadmFmNkhQY0dCQVRnc0NnWUFJek51Q3pFc25kNmV1RHJ0WVB6Y1UKICAgICAgUkVjSzJEZCtiOUhtNmdhOFk1ZHFjZTd1VWlYcDk4VW43SHM2MHBraGhPS1R0Z1RQdWRjdjlRempZdWJmUlgzaQogICAgICB4UEhtd1NIdDlMU25yMkdWUmRaSUVsVHAzRGhoNDdRQmdDL2N5ZlFYM2MzK280bW5HZE9NU1V5NTNyVDlUaHdNCiAgICAgIDJnc1owMEw0NnoyS2JUanlJYXl4MlFLQmdRQy94Q01OOHhSTGdobytrRGs2bC9qanFGcGJWYU5OeHI5eSthcGwKICAgICAgQzROZEZ1WE90S0VXVkNueCttT0ZvQ0h1RUY5Q0NMakxPODRrRExZR0RTc3Jaa3ExeVhyMHl4emt1YTNjbndJNgogICAgICBqSjJjdC9FbGRMVmtWNUtJTEVESDlwaGUrWmtESllqSTFGR2o4SFlSNFVzRnVYTHJPaE1JS1YraGdKMWpGQU0yCiAgICAgIEl4QUQvUUtCZ0hGM3NraWZCeXJNb1FMMEVoN3pIeWJzbGpiYkpuOE1FdWRXM2hvbEQzNmR4YUlhU3ZBSXZEYloKICAgICAgVWJ5QkdoTUlHVTJlYXFSSlpDMTUzQWZVcy8vazhFR05oa0VLSVZHV3d2WGRrbWF3c2M0MWVkeFJGZ1BGTk8vdgogICAgICB1VElQSmVZZFgyaHQ5NExjc3VzQnZxTnJXaldLTldkWnZETE5PSFZuN3oxbEJxRjExaHJiCiAgICAgIC0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL3Zhci9saWIvcmFuY2hlci9ya2UyL3NlcnZlci90bHMvZXRjZC9wZWVyLWNhLmNydAogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjQwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KICAgICAgTUlJQzZqQ0NBZEtnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFzRkFEQVZNUk13RVFZRFZRUURFd3ByZFdKbAogICAgICBjbTVsZEdWek1CNFhEVEkxTURFeU5ERTNOVFF3TjFvWERUTTFNREV5TWpFM05Ua3dOMW93RlRFVE1CRUdBMVVFCiAgICAgIEF4TUthM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFLVnUKICAgICAgL2RKek5MdFh4YmtSU1BLR2dpajMvVEY4RDFMVXBVL1dRTjUxcU1OcHJPYm1LSFhCL2pGamhZTXNkMjlVanJCYwogICAgICA2czhwd0wvcmJQdWNYUmJYc0x0NkYzM3A1ODd3a3AyOHp5ZEdab1JHK2ZaODN5djFZdi9pT1Z1Vjhld0oyYzJqCiAgICAgIHF1Lzd2RWJ4WWo2eUVSYXZiTDRseU5sYkJPYUtyb0hHVzVBMmhaMVdvRG9vNU1zS1ZWNHhYbmw5ZG04ZFZOZksKICAgICAgTEdYVzM5aWZwWnZwdG40SUc2NS9pMmFEZ1VyU00zNHB0MW9zUnBEMFZrS0gveHdEMGRSR3N4RlNVN1c1U1ZuSwogICAgICBZVEcxM2h1WmpralRuUnJmU2c5ckxOUjhUOFJJREpLRUw3S3poZEtBVWYybTk0Qkd3bzZ3SnRTTHFxUDd4dVU4CiAgICAgIE45a3ZQc2FLdll6U0svOVpsVDBDQXdFQUFhTkZNRU13RGdZRFZSMFBBUUgvQkFRREFnS2tNQklHQTFVZEV3RUIKICAgICAgL3dRSU1BWUJBZjhDQVFBd0hRWURWUjBPQkJZRUZGdyt1OVFPMW5aVCsvMzRUWXJJRjZPNnFkenlNQTBHQ1NxRwogICAgICBTSWIzRFFFQkN3VUFBNElCQVFBblg4K1JZakEwNytUS2tOMmNwZGNiVUd2cS9yR2UxenV6WCtvY2IzMVcvdU1QCiAgICAgIDZsYjh6c3JlSHFqYVVJNU1tMU5UdlB1NEZLbXFmR2hRekZERElBVUdUNXFMVS9pN1ZvWjV6dklMdUx0S3h3K24KICAgICAgMTZjdG5FWXFCcWdBWE1YUDF4elRkd2d0Uno5aGlIR29jN2o4amFsTHk3Ti95c2g0WUozK3V3aU9qMnV6L3FJMgogICAgICBaalNvaE1SZlNzMytJQkdnQXkxRWV4bjUxZ3NOMFN1eDZWVzA2MWZ1b3U4NUFuOU5aRU1uRmVjc09HNmN0b0cxCiAgICAgIFhRWHVQMllObXJBQXVBTjdmMUZicURSczNMcWNnVzY3TVMyb3JPT014cm4wVHpFV3B3Y0RlZkxMbnd5OXdBR0YKICAgICAgSjlsZ2tFVzhNMlRPVG9HZFhUd2Vmd053SGRLdVRlN3c3Qi9vc09MaAogICAgICAtLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIAotICAgcGF0aDogL3Zhci9saWIvcmFuY2hlci9ya2UyL3NlcnZlci90bHMvZXRjZC9wZWVyLWNhLmtleQogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjAwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIE1JSUVvd0lCQUFLQ0FRRUFwVzc5MG5NMHUxZkZ1UkZJOG9hQ0tQZjlNWHdQVXRTbFQ5WkEzbldvdzJtczV1WW8KICAgICAgZGNIK01XT0ZneXgzYjFTT3NGenF6eW5Bdit0cys1eGRGdGV3dTNvWGZlbm56dkNTbmJ6UEowWm1oRWI1OW56ZgogICAgICBLL1ZpLytJNVc1WHg3QW5aemFPcTcvdThSdkZpUHJJUkZxOXN2aVhJMlZzRTVvcXVnY1pia0RhRm5WYWdPaWprCiAgICAgIHl3cFZYakZlZVgxMmJ4MVUxOG9zWmRiZjJKK2xtK20yZmdnYnJuK0xab09CU3RJemZpbTNXaXhHa1BSV1FvZi8KICAgICAgSEFQUjFFYXpFVkpUdGJsSldjcGhNYlhlRzVtT1NOT2RHdDlLRDJzczFIeFB4RWdNa29RdnNyT0Ywb0JSL2FiMwogICAgICBnRWJDanJBbTFJdXFvL3ZHNVR3MzJTOCt4b3E5ak5Jci8xbVZQUUlEQVFBQkFvSUJBR1h5Q2RSZ1RrU01pRG5OCiAgICAgIG53aGxQMXlEeGJGeTQvYUZPQUlFNUNDeW5QY2U3ZiswSVlhL3J5YzhUeEJRbktFc21HbXlPTGpFNEJUa3ZWb28KICAgICAgTjIxV0tZQytjaStUcnRmbGhGUlQvOHdTSkNhcm5tbjQ5WVlmUjR5c0dmQ0liSGFxYzErMzFpVGhHbHNWY1JkMQogICAgICBuL1k4MEdRMDRKcWc3bG9yWi9KdERBdklyWG9RNURPbExmMG9zMmFFZndZWTcvY3VWMGkyWTlDUitITGRoYVVyCiAgICAgIFZ3STFXQ2NFa0RKYXBzVGxtYThhSk11ZWl1K2wxbnN1L1B3R2tpS2VBWEFGTHBEbjdXbjhGRldlODB1L3lnQjQKICAgICAgNDJoU2huMVd1UmMwUHk1Nm80NUhKVmJUeXZCZ1cxS1NQUjkrTzJDN2g4emlQWTZkTXB2NEVOcjludDV0NmpySgogICAgICBzWWRyMTNrQ2dZRUF6R29ISUh1UW5FT1JVOGdvY1VneE80bEdYNjRyTDNMck5MWk92SVg2L0FTY09weDltWUFsCiAgICAgIEhpY0NKRVN1WE9nZ3NHTzB3SmlnQzhWMjZ3bXIwb3dTazNXQzV3dU80OENLY3N2ZVlZR1MwVjRnQzlDcnFMczYKICAgICAgd0t2Zms1V0RCMGoyUS8yS1FOTnVHZDVwN3I3UUgrZlRjYzAvZGVkWmJNcm95QkZ4YTUwRHp2TUNnWUVBenk2cAogICAgICBFK3lNSFdPbUxqL3hnQVh1M0JFaHRaTWNFZThVaFpIYythZWx0YkJTMjg1NjhFQWxISnpydkpSV0JubC9BdFJICiAgICAgIDNXdlpvd2pkYkJRaVRGV1d2MC9RZUV6TVhXb2MrbkxQWjBkREVua3pKeDBDZjZRcURKaDMxYkkxU2JWWVZiWksKICAgICAgL1MxbTRsUHBha3hwUEZzMDZkOFBjN0VDNXlSQ2REUVJDNGU4OXc4Q2dZQTZVNWF0QWhVRlFaSmFJYWJJakJ6ZwogICAgICBMQTlVaGRIMHZBbTVCTHY2dHhBaWtQNHpDeXdiZktFYXRXNjdBbzN1SEo0WE5wd0F5SXdDVDluYXZ1dTBMQnV3CiAgICAgIHo3c0dTaG4vaXBUMnBJMVRyVEZEWkdRb2V1WkFRd3hFcGNZcHltT1UxSkRRWGF2eFMyTURKcDk3YkI3ZXU3dHQKICAgICAgb1c4V0tXa3V6Y2NXTDBQNXZOZTFXUUtCZ0RjbFVGUEJUcm96My9QSGlWeHVOOW5UcFlsVEV0R2pOVzhvR0ExTAogICAgICBsa3Y2RnRQeTdiNHRGTE85QVBJOCtYalh0ZnJtemdvZHZ0d3FhK1ZzcG9SeTg2RVFlWWpMeUVuRkNObVEzYXU3CiAgICAgIHlCcU9zQkxsSWRrZnRTR05JN2g1cXIxbnk0OWs2aWpoZ05VVlNMZkdodXhOeXBQRmo3TlhsbEkzMElobG8zUFMKICAgICAgT1hYNUFvR0JBTENJSXhzOWlmcDZKbytJU1dUNnRjWnhwNmNWZmlUczVkUVRuQXQvZ0hHeHZWdUxFTzFMU0xGZwogICAgICBCcXBrYldHMUJMRkhBZzdJcC90N2VYN0RtNkNNSzhXUTFrcmlNMTM5dHBMakRac1pNTlN0c0JIKzJxRU00MDRTCiAgICAgIG5STml6WDc4NmNCeWVLSkh5TGdoLzZOaUdFY0hON2RYeVA5TDJJVVA2RjF6L0gvV21CdUYKICAgICAgLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0KICAgICAgCi0gICBwYXRoOiAvdmFyL2xpYi9yYW5jaGVyL3JrZTIvc2VydmVyL3Rscy9ldGNkL3NlcnZlci1jYS5jcnQKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDY0MCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIE1JSUM2akNDQWRLZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKICAgICAgY201bGRHVnpNQjRYRFRJMU1ERXlOREUzTlRRd04xb1hEVE0xTURFeU1qRTNOVGt3TjFvd0ZURVRNQkVHQTFVRQogICAgICBBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTFd4CiAgICAgIElsbnRNVjdYdUdPaGF1ZkF1dEV2YlNMRWEwYmtpMGxiMWh6U1dGcWRuOFhQWE9CK0Q4ODVUWjJ6OVdlZVFBTGgKICAgICAgaksyekt2cVVmeHNxSUEyc01ZNlZ6cGFSdllIQzBDUERTeE9Rb0VreGxkWTdJb1RiQW9CdlE2UWZQR2FsNlp5dQogICAgICAvMEFTbG0zbnZPb3JLMXJXWWhCRjQyMGt6UkRZU3BkK3hYRkxzcFliQkppVDFUT25IWjIwZGorYm5sZlBwWDNOCiAgICAgIFhWTjlBNE41YlRac0xzV0JSaXZBanN6djUrWEJwYUlDYm5LWjNqZmJrUHJlUHNKRHlXTWxGWTVwL0cvOTF2Rm8KICAgICAgR3ZRR0NxNzR0NDF2WmV6OWNtUEtZOXJaRnVNYzY0N3MwNWowcUhObGNYWXpmN1lBakUrWldnZ3ZHNkhTRlZvUwogICAgICBzbmkyYmh1dFg5KzN2RjZyKzM4Q0F3RUFBYU5GTUVNd0RnWURWUjBQQVFIL0JBUURBZ0trTUJJR0ExVWRFd0VCCiAgICAgIC93UUlNQVlCQWY4Q0FRQXdIUVlEVlIwT0JCWUVGS2Nua2JqMkFtNk8zNWRsS0llNzJnUXFqRnBGTUEwR0NTcUcKICAgICAgU0liM0RRRUJDd1VBQTRJQkFRQm80WkpMOUN3RkVES2c0N1FKMUFJelhRT011djNGZVhMWTY4ZTVhUmJFWE5leAogICAgICBOVzFmTEsvMk50RzMxM2pMZFJoSFAzd0lPQjIyVjdRbGs4bitYZlNTMHpERUhpcTBsZ1BxMnlqZ1lsUCs3N3VsCiAgICAgIC85YyszTVpMSmpDaWlVQi94UGsyazJ6WHg0WXpnQVE1L0JPYlY3cDB6dS90TU9uYitxT1ZDRFlXejRxZ0VTVm4KICAgICAgWjhSMWx1TjJydTRnZm9QR1hKejBBKzZ3bDRzaWFBZjNjQk9KVFBBdFlkdWh0aDlJNm1UempMSnV0Ym8rQ2d2QQogICAgICAxZDk5aGx6TFVDQ29wRHQxRkhCNWYxYlNNTlZ1VmtXeGd5YTBjd1ZERFJpTTJiYmFhdDMzSW9wYUxWWXpGTjFnCiAgICAgIEwyeG1NVFV5YzRTZ0hsSHhNNGJ3MVljOGU0ckMwWUZ5T2V4enNOQTAKICAgICAgLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQogICAgICAKLSAgIHBhdGg6IC92YXIvbGliL3JhbmNoZXIvcmtlMi9zZXJ2ZXIvdGxzL2V0Y2Qvc2VydmVyLWNhLmtleQogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjAwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIE1JSUVvZ0lCQUFLQ0FRRUF0YkVpV2UweFh0ZTRZNkZxNThDNjBTOXRJc1JyUnVTTFNWdldITkpZV3AyZnhjOWMKICAgICAgNEg0UHp6bE5uYlAxWjU1QUF1R01yYk1xK3BSL0d5b2dEYXd4anBYT2xwRzlnY0xRSThOTEU1Q2dTVEdWMWpzaQogICAgICBoTnNDZ0c5RHBCODhacVhwbks3L1FCS1diZWU4Nmlzcld0WmlFRVhqYlNUTkVOaEtsMzdGY1V1eWxoc0VtSlBWCiAgICAgIE02Y2RuYlIyUDV1ZVY4K2xmYzFkVTMwRGczbHRObXd1eFlGR0s4Q096Ty9uNWNHbG9nSnVjcG5lTjl1USt0NCsKICAgICAgd2tQSll5VVZqbW44Yi8zVzhXZ2E5QVlLcnZpM2pXOWw3UDF5WThwajJ0a1c0eHpyanV6VG1QU29jMlZ4ZGpOLwogICAgICB0Z0NNVDVsYUNDOGJvZElWV2hLeWVMWnVHNjFmMzdlOFhxdjdmd0lEQVFBQkFvSUJBQVpkaGs2UU9NS1IzQ3ZoCiAgICAgIFk5VnFzeURSQUluUFI5TGIvdVU3Q20xSUVVQmJkVldBeGtnM0ltYW9JMGY3SGdYYlRYTE1aQmxSeFpleHpDSXYKICAgICAgZjUvN0FHRjJiaDVvVExOWEYrT28yK0I3bUtIMzBzQUdvbGIxTlVrNm5Ld0xUQnBzaFpxdnB0R2YxUlZVb1JHegogICAgICBJWG0xT1FwSTZJYlNXenpUMXdrbnI5TWdTOGxtYWJ4TGNUNGZwSGhOZXlxRFRtczhaM2taMjFFY1FYRXpQV0svCiAgICAgIDBzSTRoTHBaZmhNM1A5SGY1MHNBclhSOURJMVRyVS9VY0tmd3JzSVBjVjk4RTZFNzJNdWRCeGlTQjNLbkMvS2wKICAgICAgM2VXb1UrNzRsazZrYVhaMEV5cTNOWVlqY0NuTG1wRGQ1aHNpcDBRbVUvOXJ3b0g5ZXFBT1FDZ3lpR0NTREpyRAogICAgICB2M3BhK2NFQ2dZRUF3OTYrT3dtUVZoUG9SdVRRZGZYeU1YMlZTSEhVRHJJKzd2ZEhoaHdaRjZ1MUJZaE5mZTY0CiAgICAgIGpjVnFDTW5sVlZBaGFRL090VmNXYk55MGI2ZW16YSsrTGpqOGpiNlhGd3NXajhVdEFoNGpIVTJvc09NREs2VlEKICAgICAgQnRDL0JMRUl2NmlyTXNRVTFKMko5ajRGMTc0TjNVK3RvRUtHVEZCWWFpSThmZ1RHTEJndXF6TUNnWUVBN1hnawogICAgICBYeDVrL0N2cjZPTndFajdEU0pKYlJMZkl5SUJ0Zm5pS240T1VBWlRDV0pOdGNzSndidlBLVEJ0K0FmTk1KYjVFCiAgICAgIEhCdWtKQVl4MDRNazlDNEZkQ2RFNU9RaklZQmZNSU5mdzcvakV5aGIrMDRPR2pKNnBuQlByVTVraEU1U1Njc0wKICAgICAgS01BU2FuNnFyeVBOTG9RWVdOTEVrZ205Wk5yWHhvOFY0b3l1em9VQ2dZQjlkeVRydEVpY21zdmkvWmI2dUx5WAogICAgICBMeFo4L1UwVXpPQzdPZks2MlN6Sm1OZXYzNHVqNjFLVW5hdzZUUGwyR0lvT1BtM3Vnd1orWFRISGcrQzVTS1hOCiAgICAgIC9mcm80UGp2YmM3WjhUZlBiM2FXd3JRWCtwS0JWcmRZWmthMXZxRVlBL2NGNGN4bUZUUFdaQXhpRWYvWGo3NXMKICAgICAgTmJESkdYNUpIZjBaeS8wVktiaGJPUUtCZ0dkV084V2tyVjlMSWFyRHBsWmFONUxTRmFOdXNwSUZ5U0FiQm4vcAogICAgICB1ek9BNzUycDhodlpYeUg1TnRRdHRvVFV3aE0rbTliN2RFODAzdVBqRXVhclREWkNqR2xxbVpzUGlOek1ucFRKCiAgICAgIFlPQktWTlNrSCtEb2pKVDNGTVVlOHdEY01GVHFaWjNERDRDR1JISllpd1l0OTRaWG1iRFBTanFrUFBlcjltTVMKICAgICAgdzFNZEFvR0FPOEJsVzQraSt5bnIrQWROTzhJUEpjOUhMQVRPUDUvN1E5ams3bzdDa3owcCttNklzU2NhMHNiUQogICAgICBYUEdwdEhMQWlld1hzUHE4bnJ3NE5DbTI1RXgrZ2szd0IwcjMwNTF3T3pyaGZJdEZVNTBMcUZLSTdFblY0QWpECiAgICAgIDBORHZzRlh3RExpYlNlSTl3Q3NTSTEwRFZveGR2NEoyMDdPL3d0WVloakNWVkhrWStiWT0KICAgICAgLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0KICAgICAgCi0gICBwYXRoOiAvZXRjL3JhbmNoZXIvcmtlMi9jb25maWcueWFtbAogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjQwJwogICAgY29udGVudDogfAogICAgICBjbHVzdGVyLWNpZHI6IDEwLjQ1LjAuMC8xNgogICAgICBkaXNhYmxlLWNsb3VkLWNvbnRyb2xsZXI6IHRydWUKICAgICAgc2VydmljZS1jaWRyOiAxMC40Ni4wLjAvMTYKICAgICAgdGxzLXNhbjoKICAgICAgLSBodHRwczovL2Zvby5jb20KICAgICAgdG9rZW46IDU3ZDkxZTZhMmU4Y2EyYTg1NzhkNTQyOTc5YTI3Y2UwCiAgICAgIAoKCnJ1bmNtZDoKICAtICdjdXJsIC1zZkwgaHR0cHM6Ly9nZXQucmtlMi5pbyB8IElOU1RBTExfUktFMl9WRVJTSU9OPXYxLjMwLjYrcmtlMnIxIHNoIC1zIC0gc2VydmVyJwogIC0gJ3N5c3RlbWN0bCBlbmFibGUgcmtlMi1zZXJ2ZXIuc2VydmljZScKICAtICdzeXN0ZW1jdGwgc3RhcnQgcmtlMi1zZXJ2ZXIuc2VydmljZScKICAtICdta2RpciAtcCAvcnVuL2NsdXN0ZXItYXBpJwogIC0gJ2VjaG8gc3VjY2VzcyA+IC9ydW4vY2x1c3Rlci1hcGkvYm9vdHN0cmFwLXN1Y2Nlc3MuY29tcGxldGUnCg==`) //nolint:lll

	// k3sCloudConfig is actual data["value"] taken from K3S bootstrap secret
	k3sCloudConfig = []byte(`IyMgdGVtcGxhdGU6IGppbmphCiNjbG91ZC1jb25maWcKCndyaXRlX2ZpbGVzOgotICAgcGF0aDogL3Zhci9saWIvcmFuY2hlci9rM3Mvc2VydmVyL3Rscy9zZXJ2ZXItY2EuY3J0CiAgICBvd25lcjogcm9vdDpyb290CiAgICBwZXJtaXNzaW9uczogJzA2NDAnCiAgICBjb250ZW50OiB8CiAgICAgIC0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQogICAgICBNSUlDNmpDQ0FkS2dBd0lCQWdJQkFEQU5CZ2txaGtpRzl3MEJBUXNGQURBVk1STXdFUVlEVlFRREV3cHJkV0psCiAgICAgIGNtNWxkR1Z6TUI0WERUSTFNRFV5TVRFM01qSXlOVm9YRFRNMU1EVXhPVEUzTWpjeU5Wb3dGVEVUTUJFR0ExVUUKICAgICAgQXhNS2EzVmlaWEp1WlhSbGN6Q0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUxCaQogICAgICBRQ3BQNTRLS2ZlYnZCcHVqcWdxdWdDQXRIZllkNGgwNGlGSHJmMkx5SnpFN2lIcm1lZzR6c0piMDNkbnpxNEJqCiAgICAgIHA5U0w2V3dJdGVieDIwaXVKTnNpcnpHWUhacjdrM05XaXhLNmtMRGpQYUdoQVdrc2c2a0FDNzd2U0U0VlNLWU4KICAgICAgUEZ2MkVjS2Exd3VnQllFbEN2bGtQZ2FUSEx5NnNCWVh6ZWtXZ1NrMXFvY1VXNWs0YTdzWWFsTmY1SzQ4U1ozbgogICAgICByQ0JBUjN1MnlaREVLVXFvcjNvZ0xIU2ltS01UUG9wOVRyMmdDSnkveEptWHYwOUVMSUUwNjMwdmZxVUdtK1kyCiAgICAgIERpbWtqYVlLVC9rTEJ1S3VvdEhISnVKQ0hCeGJaMnFCMzdKbTE4TWREclVKelNXQnV1eGM4K2xaWTY3TFJNS24KICAgICAgZXhBd2c2YnBJSVE1MldSQktOTUNBd0VBQWFORk1FTXdEZ1lEVlIwUEFRSC9CQVFEQWdLa01CSUdBMVVkRXdFQgogICAgICAvd1FJTUFZQkFmOENBUUF3SFFZRFZSME9CQllFRkFxK1VEVVRsTHR0dFZjeEE4RDlpZWNidkhKWU1BMEdDU3FHCiAgICAgIFNJYjNEUUVCQ3dVQUE0SUJBUUJYbStJV0w4eHFEK0xQUlNObDJkVWZLaGVlUE9TUVNXRVptZy9wbC9CbzFhMGQKICAgICAgTk9tNjhvVGo2cmJQalRQZytGZ0R2OGM2aDMxYWdPeDdxVXF6dlVQL0hPWFVKNmU3VmZSRDNRMldYMGFMOXhGZQogICAgICBza1lHS0RxdlYrbjhxOXRIQWRNc25URXNGdVdOM1hCR2VUSXdja2EyNktYU0Y4SjFWZEVIaDUzV0R2cjAxem5PCiAgICAgIGFoY3UrZWhCV2JvOHg4UXhjZkN1cEM4WUtJdnZjejNQV25FaDFSeUU5RzVhenE1dlkrb2ttWVRzdm5Tc3RScm0KICAgICAgeGpvb1UyR1BPaHZDL0NoeFJXSmplbEtqUkZqOWdaNDNCUlVJczBmdDN6STVjMUJoOVZtbHpGeFVBTlJEbUdMaQogICAgICBPcUNiKzBDcktWQktubEZPS2N0Lzh4ZnpqZ1IwWTExZ2xSM3EyQlB2CiAgICAgIC0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KICAgICAgCi0gICBwYXRoOiAvdmFyL2xpYi9yYW5jaGVyL2szcy9zZXJ2ZXIvdGxzL3NlcnZlci1jYS5rZXkKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICBNSUlFcEFJQkFBS0NBUUVBc0dKQUtrL25nb3A5NXU4R202T3FDcTZBSUMwZDloM2lIVGlJVWV0L1l2SW5NVHVJCiAgICAgIGV1WjZEak93bHZUZDJmT3JnR09uMUl2cGJBaTE1dkhiU0s0azJ5S3ZNWmdkbXZ1VGMxYUxFcnFRc09NOW9hRUIKICAgICAgYVN5RHFRQUx2dTlJVGhWSXBnMDhXL1lSd3ByWEM2QUZnU1VLK1dRK0JwTWN2THF3RmhmTjZSYUJLVFdxaHhSYgogICAgICBtVGhydXhocVUxL2tyanhKbmVlc0lFQkhlN2JKa01RcFNxaXZlaUFzZEtLWW94TStpbjFPdmFBSW5ML0VtWmUvCiAgICAgIFQwUXNnVFRyZlM5K3BRYWI1allPS2FTTnBncFArUXNHNHE2aTBjY200a0ljSEZ0bmFvSGZzbWJYd3gwT3RRbk4KICAgICAgSllHNjdGeno2VmxqcnN0RXdxZDdFRENEcHVrZ2hEblpaRUVvMHdJREFRQUJBb0lCQUZta0pVNGJ1K0g1TnBGVwogICAgICBLenFRVEF3UHNXZ281ZEErVWJ0ZUR0SHJhSnRGekN0V1FUK013TDFWQWN0R2VUV2FoQy9FOWZlc2Y1MzdNMDlDCiAgICAgIDNab3JmdW1yei9QWmhqcE0zeHhBQUlBdE52bmZFMlNBYWpJa2dHazBiOFBDNGpGazJiNGlmZW1Tdm1YendaVFQKICAgICAgNTloQmxqazIrOXJsaXpaVGZzaExvc2R5TzRSUVBPanVyVzFmYkRON1EwVUEyUUN1Y016UEpHaVh5TnEzQlBvNQogICAgICBoNERRL21GWnA1YXdkWHpLM2lTcDVwUHlnR1JQdHd5WnROMXkxVlM1NlNoRXA1M0MvZDBtdG5xMzYwMDlYUC9CCiAgICAgIFBXZXdwSnhRMkZtUkRKYXVtNlBiUlBlWExPaTRNb0xOYWhwRTUrMjMzWGtEL3NCVEt6M2craVVaYmhEc2ExVjgKICAgICAgbE9LdUMza0NnWUVBMEZXMEMzdWhIVUdxL1JCdkVBbGVsR0ErQWs4cjRkMjlyaVAyZmRzWDYreUorVG53R1VDcQogICAgICB2VE9lWGpXZ0t6aHJsbXFySkc2ZWFxVjdSZlc1czFMc2dFa2tVUUNpSlpaanlicVozWG5yOFNTQ25PeVJiVzlhCiAgICAgIDNCekxFSk9tSU9aV0pCLzVKeUtVVHEzT3R6MjVCRWtFTWRieEk0TmRrNjFydEo5LzVVMkFaYzBDZ1lFQTJMMG8KICAgICAgaGxGQUVxbDhJZFlGUUtNT2NSQkEvaVNFcUFGcW5CYUYrZUNQOHBqTTZQaTBTM2FMQWkxSCs3YzA2MDRkZ2JDbQogICAgICAwYzhHa0tYVUhrcVVpQjVCTjZ5ZkdLYmhra21GZ05FUFNUemZhQ3Jrb0lIcll5bUZ6WVA0aE1ZWnZQMHdPTEFxCiAgICAgIHJKdkh3SHFaelpXa0JJUFdwak50NklRNS9iRUZtK2JCazBBREtSOENnWUVBcUFiSFhJK01oU1VtZkU1WjFReEoKICAgICAgZk5BV2t4UTVwMFNKTEQ4VEdiU3dHWGJBWFFNT2s3OWxOWTNCUitobVV4V0JLR0xGdjI5OFV6VStORkdZUVhvNwogICAgICBCc2gzQXVISTVSbmpSNXM1WjdoaXhDMlhMbXRhYTNIcFRTZm4yMm5LRGpUWCt2RFNxVzZwUUwvTHZseUlzVjBXCiAgICAgIGhmLytvbzdiMVRTRWJyeEprYTR0UlcwQ2dZRUFzdlI4WVdyMDNIUFVhcHVyK3BLbmVmTlJ0b1d3Z29lbzN2ZzUKICAgICAgNXZmajR3c0hKZFUwQ0pyNGEvTzNXNzhKa3NBTTNPaGUxUjE2N2pQOTBJVUQzdUFjT1R2dW9Rd3BkQUFBbXp3QwogICAgICB3eFhmNE1LSnczMkNQWDRyWEdWNjdTWWtXa2N6YVpzTG9UbCsxUTVscjdtK2szdkgzN0xYTFFVQVhOZXRLZXgrCiAgICAgIEtIYlNKVUVDZ1lCVld3Wk5wQVNkbVJoV3pBa1hFTHBqZVB4WEhuTUVBTDZSeVdQaEtUMkZDVVYxakI4VjBlWXMKICAgICAgcmJPTWI2cUtmcU9GRjE1VHBPTEZqejlsb0lpbHBEMG9MT1pmUVBBQzk0NlpSODlmODBpTXpYRW9WOVZxNzNJZAogICAgICBGc04rejR6d3k3bTNia2x0ei9pS2dxUXRMMDlDa3BGZmptalNuV0lhOGlyOGVXNmc1NHN0ZUE9PQogICAgICAtLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICAKLSAgIHBhdGg6IC92YXIvbGliL3JhbmNoZXIvazNzL3NlcnZlci90bHMvY2xpZW50LWNhLmNydAogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjQwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KICAgICAgTUlJQzZqQ0NBZEtnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFzRkFEQVZNUk13RVFZRFZRUURFd3ByZFdKbAogICAgICBjbTVsZEdWek1CNFhEVEkxTURVeU1URTNNakl5TlZvWERUTTFNRFV4T1RFM01qY3lOVm93RlRFVE1CRUdBMVVFCiAgICAgIEF4TUthM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFLNncKICAgICAgbUxoNHhsU21YelRYcHJDRnYrT1JQZWNiT2JiVzhZR0lFYlI0RDJmUEVyMy9JSzJLUHVwQXp2S2xVQVExeTY3bwogICAgICBla1pBQlh1WjRQSExLSWRxY0E4WTA0VHNHbU4wUk5ZY0FjUEJkQ3gwQzZDaVdHY1lVRkJqTkFPalBzV3hNZDJXCiAgICAgIDRMRHhGcDd5ZWJjUDdkNUdKcHF2TGltTDh3TjVMdHFrVnVrMmg0TnJZM0V1eWpoZzVvbkdoM3lCdTlBaWJwUysKICAgICAgaDBXNkxxTHF1T0pCK0J4ZnUvWC9SSHVTNVlmbVdYVHEyckgxTE9BVTRoWUUyVHR4Ymp2c3lOYzFoZ1I0NFp2TwogICAgICArQTB6dTFUMVFvaDBrTGxQR2RDbkZDVk90VTBSMmZPd0ZwYmZ1Z2cxYU5CNzVEM0w5c0hnajlVRmlxN25RSzZ0CiAgICAgIGlhaWFUMVRaT1RBSC9LMjUxRFVDQXdFQUFhTkZNRU13RGdZRFZSMFBBUUgvQkFRREFnS2tNQklHQTFVZEV3RUIKICAgICAgL3dRSU1BWUJBZjhDQVFBd0hRWURWUjBPQkJZRUZJcUMrU0MxU0FPYmlWMzBkam5MY3JycENYWmJNQTBHQ1NxRwogICAgICBTSWIzRFFFQkN3VUFBNElCQVFCaWd5RmVhWHVJUzg1SVBMTzl3eTA2aGpjVldRdlZRY1c0ZXdUMkhaa0h1U0tZCiAgICAgIGlpZmt6V2JmS0RoNVQ2bUJ6RDJKRE85bGNLVTFQc3hVTk9NSkhXSGd3SU1RRGlOellVdzFTVWxGa2dkbkorWisKICAgICAgRjhyUSs1YXBobklUNzNzejRSSW0ySzZJRG1mZktEMm44ckluRXNpUyt4Q2FtditROFAvZlBKNEhLR2toVnJUeQogICAgICAwMUxKMXhnQnNkZmppTkNoZVFQSWp2eEVFdjBPZ1Z4a1NpREdIenNYOXpEYWVpNDBKYmR1eFRjWDFSbkxueklmCiAgICAgIEVVaVM1aXIreEFEdnhWcm1kNDh3Vll3b1FnclhCTXByUXBSQWxhZlVVcmZ3U2FkRXZoZ3Fidm1YNnVoejByWFcKICAgICAgN2VGMW5pK3FnNmxSR2ZlWWlESURNR1hJVW53MSs2VGtld0VyaUp5QQogICAgICAtLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIAotICAgcGF0aDogL3Zhci9saWIvcmFuY2hlci9rM3Mvc2VydmVyL3Rscy9jbGllbnQtY2Eua2V5CiAgICBvd25lcjogcm9vdDpyb290CiAgICBwZXJtaXNzaW9uczogJzA2MDAnCiAgICBjb250ZW50OiB8CiAgICAgIC0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS0KICAgICAgTUlJRXBRSUJBQUtDQVFFQXJyQ1l1SGpHVktaZk5OZW1zSVcvNDVFOTV4czV0dGJ4Z1lnUnRIZ1BaODhTdmY4ZwogICAgICByWW8rNmtETzhxVlFCRFhMcnVoNlJrQUZlNW5nOGNzb2gycHdEeGpUaE93YVkzUkUxaHdCdzhGMExIUUxvS0pZCiAgICAgIFp4aFFVR00wQTZNK3hiRXgzWmJnc1BFV252SjV0dy90M2tZbW1xOHVLWXZ6QTNrdTJxUlc2VGFIZzJ0amNTN0sKICAgICAgT0dEbWljYUhmSUc3MENKdWxMNkhSYm91b3VxNDRrSDRIRis3OWY5RWU1TGxoK1paZE9yYXNmVXM0QlRpRmdUWgogICAgICBPM0Z1Tyt6STF6V0dCSGpobTg3NERUTzdWUFZDaUhTUXVVOFowS2NVSlU2MVRSSFo4N0FXbHQrNkNEVm8wSHZrCiAgICAgIFBjdjJ3ZUNQMVFXS3J1ZEFycTJKcUpwUFZOazVNQWY4cmJuVU5RSURBUUFCQW9JQkFRQ1dqYmh4ZEJWcUt5RHUKICAgICAgaDlVdldYWXhpS0dUSmhHdGxMMzdadXZyWDNYWGY4MmxWZFl4K20yU3Nsd3BIM1JBektSSWtDK2hqOWVwMk1yWAogICAgICBXTUlMUXg1a3hINjNsa3gvM2xyZE5MSUlwaGVib0QvTkoxMk5MSlU3VXVRbkpuQVpMVWZPdEJQZUswblZueUJyCiAgICAgIE54MUliYWtqczByVG43dkhDSS9xKzZ1enZyMDM4czd3azVKOTF2Nm9TWnlOYTFSNy9rSjNrTkRrWEhPdDFoVzcKICAgICAgNkRnbENlNnJad3ZuaUxSUzFldndRbFVCMjJrVlhPKzBPMitCTzZBU1Fta3FrbHVWVExXS1N0WnZsQWtUcCs4TQogICAgICBWS3NHRVdiaVczeVFWRFdzOW5sU1hPOUpJT2pLWElhZmJ5Mk9YSGFHQzJRemJjY09kMkFEektvOXVsaEljNGxXCiAgICAgIC9RcHVYU3JaQW9HQkFORzBhbkZRUVAvR3lSaTN0QTY5WFJkQTYrTzVUR2FTODZ3ZWhQWWlja1NYeDlLbUxqSFAKICAgICAgY1N3ZTdUcFB4QXNSK3hrMFpLQ29UZDQ0R2ZmeUpkK01oZDkvSEZjWnc5VDNyNUROaXBpeTU4NFBVbXcxYlc4WQogICAgICB3dEZFOFh2UG16emJBV0ZPKzVCOWtnVnJOaEE2STdNc0Vmd2NYQ2xmT2tTb0lMRklmc01waTZMUEFvR0JBTlZCCiAgICAgIFN1Uk1vMGp0azBucVlMQ2pqUkNGMWpWVlBHeGNkdGtNdk5YVEtDNDN3OHh6dkRKTGYwN2RyQVRrd29scjlLWjUKICAgICAgbWdvN2Q4QTJrMGg5NHlqTGxJRG9EbnE0L25Xay8ybFJyQ2llUmhpZkhrbytaV1RwSWlUQXFpRDByblVPeXplYwogICAgICA5YVlaRWhsSTg0aGdST0hNYmJNdk5YNFV1VlNNcXh0WGN1SHFuV203QW9HQkFLRmZOSW4rT0FhYjhpUVRPWHdlCiAgICAgIFBJU29jTjNNdWY0MUYwNWNMZlU2akxROEdJa0JXSXI4RnhyY3NiRXRzSzdVSjJZOTZ6RzJVald1OWt6WENrMzgKICAgICAgMVFnbnlLYytMSFMySldSSXgxNjZUYWRFSXlraDlCU0orV0VRck1PWi90dlZyRG8xaldDalFMcnF4YSszRGNIVAogICAgICBLQVBaenhJSE5jK2ZrWWpiUUxEdVI0WUJBb0dCQU0xR3ZYMkhYQUkrVm5KblAwMnBFWWZmSFBSWHFRTXgrbUV5CiAgICAgIFJxK1pRK3RCV0tOOG9LTFZVNldwOGdULzQxYis2UkE2cTVHLzdxVENwQUc2MUNnWDEwcENsbldCajhmVTNOc1gKICAgICAgZUIzZFJPSThnSjY4ODBNd3V1SWY1MlF6dzU4QWI1T0g3bHBGZGN1TEVvbXJDWU5GRWkvU2VLNTE2blE5dUJObwogICAgICBtVGhvYThBekFvR0FIdlluaHlyRFRKc2JPSzRLa0lBT0JtMjJXcldGWWM3K09nL1M0TytrVWtuUmVicGFxQUllCiAgICAgIElvaDRKRWtjbldVeis4ZC9zcW9DQXAyNUZhTFA2L0FER2IrTkpDVHhYRTBQNTJFYktIWmZKVnArTEg2dlBpWXAKICAgICAga0ZZZFpDb2RNR2xhQlU0eXV2WjJIVm10eGxkME1Ub0RJMGk5aGxycDNaUS9pMkpwTnRvZFhGWT0KICAgICAgLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0KICAgICAgCi0gICBwYXRoOiAvdmFyL2xpYi9yYW5jaGVyL2szcy9zZXJ2ZXIvdGxzL2V0Y2Qvc2VydmVyLWNhLmNydAogICAgb3duZXI6IHJvb3Q6cm9vdAogICAgcGVybWlzc2lvbnM6ICcwNjQwJwogICAgY29udGVudDogfAogICAgICAtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KICAgICAgTUlJQzZqQ0NBZEtnQXdJQkFnSUJBREFOQmdrcWhraUc5dzBCQVFzRkFEQVZNUk13RVFZRFZRUURFd3ByZFdKbAogICAgICBjbTVsZEdWek1CNFhEVEkxTURVeU1URTNNakl5TlZvWERUTTFNRFV4T1RFM01qY3lOVm93RlRFVE1CRUdBMVVFCiAgICAgIEF4TUthM1ZpWlhKdVpYUmxjekNDQVNJd0RRWUpLb1pJaHZjTkFRRUJCUUFEZ2dFUEFEQ0NBUW9DZ2dFQkFMSVMKICAgICAgVEo4UStyYWF5RVpwRXhFbXpJaHRiRk00Wm52QUNSSGF0RXdldlg1dUdxbUdyZ1lydVJ3TThwUkdkaG04a2RhNwogICAgICBDeGZJTHBkMkZYRXFuTlFIT2VTY21NNEg1czFaVGh3dHlXL2MrWDBvcEJJZzZ6YWV1NmFnUDBLUzFvc0dtV3VOCiAgICAgIDViYnJ3aUxMb2JMSjhpUHJONVJ5RkhBckRLNkNEaVpJOTJuNjdjdnJGSjdvUzdqUmpHTiszL09WNUtJNEg2WnoKICAgICAgemlNL2ptUFE4SkFaTW5Zb3JlMHA2ZSs2Y3RxRmNybmE2RXllblZoL2ZJbUoxQUYwVFlUdTh6Z0NpRTFscjFhcQogICAgICBpa0lPbk5iRTEzaWRLMTJLRjdpMzN6UlROMUR0b2xiUnRtcHVrWUZWOE1WNEREMnByL1hha0pIdStQS1NwaFhWCiAgICAgIHVMUXEyTEF5Z1YzMERoR0ZVRzBDQXdFQUFhTkZNRU13RGdZRFZSMFBBUUgvQkFRREFnS2tNQklHQTFVZEV3RUIKICAgICAgL3dRSU1BWUJBZjhDQVFBd0hRWURWUjBPQkJZRUZHdHJTdzZnaCszVWRVZWdkRHUzQTRyMjkwdS9NQTBHQ1NxRwogICAgICBTSWIzRFFFQkN3VUFBNElCQVFBSUdocy9XMVRiWWoweHlib1dpR0w1SnAxQ2syeGZzb0lYVDlPRkxyZ1JUbS9ECiAgICAgIFhqNGNsYlJaYVVtcWl5QjI2UmFwVDJxazU3YldiSzhWRGdoYlNCUHNKcjhvVm83ZmN5ZUlNejdGOTQ2RXF1aUsKICAgICAgSHRpcEJ0YlFYNUpVV0drM0ZlZ0VsOUhEQTlwSVB4RHBobGJXWkFVY0M5MExiWXgzNFVtSDVIVU5CVTh2VW91TgogICAgICBzZ3hoRHhxaGIxM2ZRQVdXM0t0RSs3NXlHN0hLaXM0ZGYzTDZBMnhzWWphOVByQUdsVXJqQkhvTXIweWcxRFRpCiAgICAgIGwvV2lOWUJXZnFHamZDcldEMnlCVit0b3U5QVIrZ3lreGRrRHR1Tjdjd05lOWpHcVNUYVBJRFowRU1iQmtYQmIKICAgICAgYXJmOXg0ZGJ6c25nOFFkeFJVUUpLWGtxMEcvanBZWDMvUWs5VkRvdQogICAgICAtLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCiAgICAgIAotICAgcGF0aDogL3Zhci9saWIvcmFuY2hlci9rM3Mvc2VydmVyL3Rscy9ldGNkL3NlcnZlci1jYS5rZXkKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDYwMCcKICAgIGNvbnRlbnQ6IHwKICAgICAgLS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQogICAgICBNSUlFb2dJQkFBS0NBUUVBc2hKTW54RDZ0cHJJUm1rVEVTYk1pRzFzVXpobWU4QUpFZHEwVEI2OWZtNGFxWWF1CiAgICAgIEJpdTVIQXp5bEVaMkdieVIxcnNMRjhndWwzWVZjU3FjMUFjNTVKeVl6Z2ZtelZsT0hDM0piOXo1ZlNpa0VpRHIKICAgICAgTnA2N3BxQS9RcExXaXdhWmE0M2x0dXZDSXN1aHNzbnlJK3MzbEhJVWNDc01yb0lPSmtqM2FmcnR5K3NVbnVoTAogICAgICB1TkdNWTM3Zjg1WGtvamdmcG5QT0l6K09ZOUR3a0JreWRpaXQ3U25wNzdweTJvVnl1ZHJvVEo2ZFdIOThpWW5VCiAgICAgIEFYUk5oTzd6T0FLSVRXV3ZWcXFLUWc2YzFzVFhlSjByWFlvWHVMZmZORk0zVU8yaVZ0RzJhbTZSZ1ZYd3hYZ00KICAgICAgUGFtdjlkcVFrZTc0OHBLbUZkVzR0Q3JZc0RLQlhmUU9FWVZRYlFJREFRQUJBb0lCQUh4Zmg2QzZMVUtKVFVUUQogICAgICBjdjdSeUoycFA3WEllTndLUHN0M28rSmV2aCttSzMwb2tqZkJKaU5QYjhiY2gvUmwzcjdLR1c5YzVCM3AzZ1FTCiAgICAgIHJVTHlZUjhwdVJoK01GaFEvZHQwcDNNNE5oR1M1elc2UkU3OEF6allTQmJwbEd1NkNrSXk4N1VWYVp6LytVcDAKICAgICAgL21qVUN4ZmxyaHpDRkxOMkp3ZmFndVJFM1A1Rll2cWFyZmlKenVIdUFxaG5abUphWlkvSVkrazIramgxMkIyaQogICAgICBnQkJhcmxDSmNOL0JCb3VadUpUOHJLSFQrcEZmdU13bVVqNlNxTmlLVXd4aHV1YUVsNFZxaDdueGRvTTFhL3RGCiAgICAgIFkvdkNOb29haEt4MFdjQlNreGU5dlNmVExWSGw1SkdRVEdSejdEaWljeHZibjBQNjVrbWhUOGdVTjhyMXNMWHIKICAgICAgZjBVMmI4RUNnWUVBMWRyd2EreC8zNDhGZEhNbUhmQUs0Rm5jY1ZqNi9qbDIzWEl5dWpOVElVOWtQUmRXTVlaWQogICAgICBqQjJMTVl2OGQzRDRZZkFSR1gxV0swbklUSU5pbDlxU1JFaURreVF1Y3JRUktQYTR4UkpkYUZISjBMVzcvdk9ICiAgICAgIDFiQksxR2NxODBodTFCVGlJNmdUcG01bzVyUVhiWmhnNnRZNnpqbytUMHZDTjlrczVlblhsMGtDZ1lFQTFTb1AKICAgICAgS0xLYTVkMmhVSjd6TmhUY2J1engvUHB3TmpGODNvUEx0RzhHQXdkNXQrODdsVnh6ZXNlTURNeUNSSHBLSkgvUgogICAgICBOc2ZmcllFN2FlQWUwYkxSLzFjR1ZNVHg5VDlOcEZNbTVxRGRYaTdsZVJ1eDZFanRNNnFKckpnQmJYNGlNTkM2CiAgICAgIFFBY0pxQ1ZkNDZNcnB2WElOOW5KYXJoY1huSHVYQXM1cE5MSWZBVUNnWUFraHdMdHpEV0RQL0NVbFY1N1dwYmcKICAgICAgL3poUisvclRGWW1pQlhGNHNHK1FqdmoySGxoUW1UdmlvdUUxazAyS01UZWJzdCtZMVBtMDV5TlpQay9HMUVTTAogICAgICBlVDlRRUt3R1Y0OWV5ZFdCZzhPRW9BT3lySGZ4OGpMUFl3OUUvR0l2cjcyT2FBckFRR01xMkV6K3F1QWRqaHR2CiAgICAgIHdTdkdNZGlXdnIvcnZpS1hHcndDVVFLQmdDOW5NUVBONUNCbUR1K015VzBuYW5YSWYyL1FpWStqcGE4ZUEvalcKICAgICAgRDdJd3dXS2o4czRlUnhmd3REWk1iRk9xRmo3VHBjVFc0ZWtGcWg2N1ZsOHZzdjlqYk9jQS9RV2ExRHRNdW9QagogICAgICBGaGRSdW5vYUxKQUpWNlo3c0M0UGg1Ry8wUDZtRENVYzY0clc5SEFnNHg0MzNoUjlmQXNkZ0gwSVBRZCsvNHlsCiAgICAgIHl5dTVBb0dBRjN1bCtySEdKSFNhVjJSMkIyVlY1dXBnRHdNb3FCLy9wZjhOZzV3dGNEZUl4cDhraEI5UUt6ZksKICAgICAgSUttdVZpcXpNVEpiYzRMUFU3LzR4ZlR6U2c2UDlJV2RUdCtneGY2MkM2WkIvVll4YWdnTmxqZDR5b0UzQVdNSQogICAgICA1WGc4VFpIWWtpU3pZN1ZDR1VjN0Z3RjdlRmM0NXQwT2ZqVHl5RG5GdW50REdWaGpRZ2s9CiAgICAgIC0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCiAgICAgIAotICAgcGF0aDogL3Zhci9saWIvcmFuY2hlci9rM3Mvc2VydmVyL21hbmlmZXN0cy9ldGNkLXByb3h5LnlhbWwKICAgIG93bmVyOiByb290OnJvb3QKICAgIHBlcm1pc3Npb25zOiAnMDY0MCcKICAgIGNvbnRlbnQ6IHwKICAgICAgYXBpVmVyc2lvbjogYXBwcy92MQogICAgICBraW5kOiBEYWVtb25TZXQKICAgICAgbWV0YWRhdGE6CiAgICAgICAgbmFtZTogZXRjZC1wcm94eQogICAgICAgIG5hbWVzcGFjZToga3ViZS1zeXN0ZW0KICAgICAgICBsYWJlbHM6CiAgICAgICAgICBhcHA6IGV0Y2QtcHJveHkKICAgICAgc3BlYzoKICAgICAgICBzZWxlY3RvcjoKICAgICAgICAgIG1hdGNoTGFiZWxzOgogICAgICAgICAgICBhcHA6IGV0Y2QtcHJveHkKICAgICAgICB0ZW1wbGF0ZToKICAgICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgICBsYWJlbHM6CiAgICAgICAgICAgICAgYXBwOiBldGNkLXByb3h5CiAgICAgICAgICBzcGVjOgogICAgICAgICAgICBub2RlU2VsZWN0b3I6CiAgICAgICAgICAgICAgbm9kZS1yb2xlLmt1YmVybmV0ZXMuaW8vZXRjZDogInRydWUiCiAgICAgICAgICAgIHRvbGVyYXRpb25zOgogICAgICAgICAgICAtIGtleTogbm9kZS1yb2xlLmt1YmVybmV0ZXMuaW8vY29udHJvbC1wbGFuZQogICAgICAgICAgICAgIG9wZXJhdG9yOiBFeGlzdHMKICAgICAgICAgICAgICBlZmZlY3Q6IE5vU2NoZWR1bGUKICAgICAgICAgICAgLSBrZXk6IG5vZGUtcm9sZS5rdWJlcm5ldGVzLmlvL21hc3RlcgogICAgICAgICAgICAgIG9wZXJhdG9yOiBFeGlzdHMKICAgICAgICAgICAgICBlZmZlY3Q6IE5vU2NoZWR1bGUKICAgICAgICAgICAgY29udGFpbmVyczoKICAgICAgICAgICAgLSBuYW1lOiBldGNkLXByb3h5CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgaW1hZ2U6IGFscGluZS9zb2NhdDoxLjguMC4wCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgZW52OgogICAgICAgICAgICAgIC0gbmFtZTogSE9TVElQCiAgICAgICAgICAgICAgICB2YWx1ZUZyb206CiAgICAgICAgICAgICAgICAgIGZpZWxkUmVmOgogICAgICAgICAgICAgICAgICAgIGZpZWxkUGF0aDogc3RhdHVzLmhvc3RJUAogICAgICAgICAgICAgIGFyZ3M6IAogICAgICAgICAgICAgIC0gVENQNC1MSVNURU46MjM3OSxmb3JrLHJldXNlYWRkcgogICAgICAgICAgICAgIC0gVENQNDokKEhPU1RJUCk6MjM3OQogICAgICAgICAgICAgIHJlc291cmNlczoKICAgICAgICAgICAgICAgIGxpbWl0czoKICAgICAgICAgICAgICAgICAgbWVtb3J5OiAyMDBNaQogICAgICAgICAgICAgICAgcmVxdWVzdHM6CiAgICAgICAgICAgICAgICAgIGNwdTogMTAwbQogICAgICAgICAgICAgICAgICBtZW1vcnk6IDIwME1pCiAgICAgICAgICAgICAgdm9sdW1lTW91bnRzOgogICAgICAgICAgICAgIC0gbmFtZTogdmFybG9nCiAgICAgICAgICAgICAgICBtb3VudFBhdGg6IC92YXIvbG9nCiAgICAgICAgICAgIHRlcm1pbmF0aW9uR3JhY2VQZXJpb2RTZWNvbmRzOiAzMAogICAgICAgICAgICB2b2x1bWVzOgogICAgICAgICAgICAtIG5hbWU6IHZhcmxvZwogICAgICAgICAgICAgIGhvc3RQYXRoOgogICAgICAgICAgICAgICAgcGF0aDogL3Zhci9sb2cKICAgICAgCi0gICBwYXRoOiAvZXRjL3JhbmNoZXIvazNzL2NvbmZpZy55YW1sCiAgICBvd25lcjogcm9vdDpyb290CiAgICBwZXJtaXNzaW9uczogJzA2NDAnCiAgICBjb250ZW50OiB8CiAgICAgIGNsdXN0ZXItZG9tYWluOiBjbHVzdGVyLmVkZ2UKICAgICAgY2x1c3Rlci1pbml0OiB0cnVlCiAgICAgIGt1YmUtYXBpc2VydmVyLWFyZzoKICAgICAgLSBhbm9ueW1vdXMtYXV0aD10cnVlCiAgICAgIC0gdGxzLWNpcGhlci1zdWl0ZXM9VExTX0VDREhFX0VDRFNBX1dJVEhfQUVTXzI1Nl9HQ01fU0hBMzg0LFRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMjU2X0dDTV9TSEEzODQsVExTX0VDREhFX0VDRFNBX1dJVEhfQUVTXzEyOF9HQ01fU0hBMjU2LFRMU19FQ0RIRV9SU0FfV0lUSF9BRVNfMTI4X0dDTV9TSEEyNTYsVExTX0VDREhFX0VDRFNBX1dJVEhfQ0hBQ0hBMjBfUE9MWTEzMDUsVExTX0VDREhFX1JTQV9XSVRIX0NIQUNIQTIwX1BPTFkxMzA1LFRMU19SU0FfV0lUSF9BRVNfMTI4X0dDTV9TSEEyNTYsVExTX1JTQV9XSVRIX0FFU18yNTZfR0NNX1NIQTM4NAogICAgICBrdWJlLWNvbnRyb2xsZXItbWFuYWdlci1hcmc6CiAgICAgIC0gY2xvdWQtcHJvdmlkZXI9ZXh0ZXJuYWwKICAgICAga3ViZWxldC1hcmc6CiAgICAgIC0gY2xvdWQtcHJvdmlkZXI9ZXh0ZXJuYWwKICAgICAgdGxzLXNhbjoKICAgICAgLSBjbHVzdGVyLWNvbm5lY3QtZ2F0ZXdheS5kZWZhdWx0LnN2YwogICAgICB0b2tlbjogMTZjYTU5MjQxMGNhY2MwMzFkODc2OWNmYTRkOTQ3MjAKICAgICAgCnJ1bmNtZDoKICAtICBjdXJsIC1zZkwgaHR0cHM6Ly9nZXQuazNzLmlvIHwgSU5TVEFMTF9LM1NfVkVSU0lPTj12MS4zMC4yK2szczIgc2ggLXMgLSBzZXJ2ZXIgICYmIG1rZGlyIC1wIC9ydW4vY2x1c3Rlci1hcGkgJiYgZWNobyBzdWNjZXNzID4gL3J1bi9jbHVzdGVyLWFwaS9ib290c3RyYXAtc3VjY2Vzcy5jb21wbGV0ZQo=`) //nolint:lll
)

func GetObjectRef(obj *metav1.ObjectMeta, kind string) *corev1.ObjectReference {
	return &corev1.ObjectReference{
		APIVersion: infrastructurev1alpha1.GroupVersion.String(),
		Kind:       kind,
		Name:       obj.Name,
		Namespace:  obj.Namespace,
		UID:        obj.UID,
	}
}

func NewCluster(namespace, clusterName string) *clusterv1.Cluster {
	cluster := &clusterv1.Cluster{
		TypeMeta: metav1.TypeMeta{},
		ObjectMeta: metav1.ObjectMeta{
			Name:      clusterName,
			Namespace: namespace,
		},
	}
	return cluster
}

func NewIntelCluster(namespace, intelClusterName, providerId string, cluster *clusterv1.Cluster) *infrastructurev1alpha1.IntelCluster { //nolint:lll
	return &infrastructurev1alpha1.IntelCluster{
		TypeMeta: metav1.TypeMeta{},
		ObjectMeta: metav1.ObjectMeta{
			Name:      intelClusterName,
			Namespace: namespace,
			OwnerReferences: []metav1.OwnerReference{
				{
					APIVersion: clusterv1.GroupVersion.String(),
					Kind:       "Cluster",
					Name:       cluster.Name,
					UID:        cluster.UID,
				},
			},
		},
		Spec: infrastructurev1alpha1.IntelClusterSpec{
			ProviderId: providerId,
		},
	}
}

func NewNamespace(name string) *corev1.Namespace {
	return &corev1.Namespace{
		ObjectMeta: metav1.ObjectMeta{
			Name: name,
		},
	}
}
func NewIntelClusterNoSpec(cluster *clusterv1.Cluster) *infrastructurev1alpha1.IntelCluster {
	return &infrastructurev1alpha1.IntelCluster{
		TypeMeta: metav1.TypeMeta{},
		ObjectMeta: metav1.ObjectMeta{
			Name:      cluster.Name,
			Namespace: cluster.Namespace,
			OwnerReferences: []metav1.OwnerReference{
				{
					APIVersion: clusterv1.GroupVersion.String(),
					Kind:       "Cluster",
					Name:       cluster.Name,
					UID:        cluster.UID,
				},
			},
		},
	}
}

func NewMachine(namespace, clusterName, machineName, bootstrapKind string) *clusterv1.Machine {
	bootstrapData := "bootstrap-data"
	machine := &clusterv1.Machine{
		TypeMeta: metav1.TypeMeta{
			Kind:       "Machine",
			APIVersion: clusterv1.GroupVersion.String(),
		},
		ObjectMeta: metav1.ObjectMeta{
			Name:      machineName,
			Namespace: namespace,
			Labels: map[string]string{
				clusterv1.ClusterNameLabel:         clusterName,
				clusterv1.MachineControlPlaneLabel: "true",
			},
			UID: types.UID("1234567890"),
		},
		Spec: clusterv1.MachineSpec{
			ClusterName: clusterName,
			Bootstrap: clusterv1.Bootstrap{
				ConfigRef: &corev1.ObjectReference{
					Kind: bootstrapKind,
				},
				DataSecretName: &bootstrapData,
			},
		},
	}
	return machine
}

func NewIntelMachine(namespace, intelMachineName string, machine *clusterv1.Machine) *infrastructurev1alpha1.IntelMachine { //nolint:lll
	return &infrastructurev1alpha1.IntelMachine{
		TypeMeta: metav1.TypeMeta{
			Kind:       "IntelMachine",
			APIVersion: infrastructurev1alpha1.GroupVersion.String(),
		},
		ObjectMeta: metav1.ObjectMeta{
			Name:      intelMachineName,
			Namespace: namespace,
			OwnerReferences: []metav1.OwnerReference{
				{
					APIVersion: clusterv1.GroupVersion.String(),
					Kind:       "Machine",
					Name:       machine.Name,
					UID:        machine.UID,
				},
			},
			Labels: map[string]string{infrastructurev1alpha1.NodeGUIDKey: ""},
		},
	}
}

func NewIntelMachineBinding(namespace, intelMachineBindingName, nodeGUID, clusterName, machineTemplateName string) *infrastructurev1alpha1.IntelMachineBinding { //nolint:lll
	return &infrastructurev1alpha1.IntelMachineBinding{
		TypeMeta: metav1.TypeMeta{},
		ObjectMeta: metav1.ObjectMeta{
			Name:      intelMachineBindingName,
			Namespace: namespace,
		},
		Spec: infrastructurev1alpha1.IntelMachineBindingSpec{
			NodeGUID:                 nodeGUID,
			ClusterName:              clusterName,
			IntelMachineTemplateName: machineTemplateName,
		},
	}
}

func NewIntelMachineTemplate(namespace, name, parent string) *infrastructurev1alpha1.IntelMachineTemplate { //nolint:lll
	annotations := map[string]string{}
	if parent != "" {
		annotations[clusterv1.TemplateClonedFromNameAnnotation] = parent
	}
	return &infrastructurev1alpha1.IntelMachineTemplate{
		TypeMeta: metav1.TypeMeta{},
		ObjectMeta: metav1.ObjectMeta{
			Name:        name,
			Namespace:   namespace,
			Annotations: annotations,
		},
		Spec: infrastructurev1alpha1.IntelMachineTemplateSpec{},
	}
}

func NewRKE2BootstrapSecret(namespace, secretName string) *corev1.Secret {
	value, err := base64.StdEncoding.DecodeString(string(rke2CloudConfig))
	if err != nil {
		panic(err)
	}

	return &corev1.Secret{
		TypeMeta: metav1.TypeMeta{
			Kind:       "Secret",
			APIVersion: "v1",
		},
		ObjectMeta: metav1.ObjectMeta{
			Name:      secretName,
			Namespace: namespace,
		},
		Data: map[string][]byte{
			"format": []byte("cloud-config"),
			"value":  value,
		},
	}
}

func NewK3SBootstrapSecret(namespace, secretName string) *corev1.Secret {
	value, err := base64.StdEncoding.DecodeString(string(k3sCloudConfig))
	if err != nil {
		panic(err)
	}

	return &corev1.Secret{
		TypeMeta: metav1.TypeMeta{
			Kind:       "Secret",
			APIVersion: "v1",
		},
		ObjectMeta: metav1.ObjectMeta{
			Name:      secretName,
			Namespace: namespace,
		},
		Data: map[string][]byte{
			"value": value,
		},
	}
}
